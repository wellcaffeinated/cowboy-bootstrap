# Consul Server Configuration
# Generated by Ansible

# Data directory
data_dir = "/opt/consul"

# Server mode
server = true

# Bootstrap expect - single server for bootstrap server
bootstrap_expect = 1

# Bind to primary private IP (required with multiple interfaces)
bind_addr = "{{ ansible_default_ipv4.address }}"

# Advertise the same address for cluster communication
advertise_addr = "{{ ansible_default_ipv4.address }}"

# Allow clients to connect from any interface
client_addr = "0.0.0.0"

# Datacenter
datacenter = "boulder"

# UI
ui_config {
  enabled = true
}

# Performance tuning
performance {
  raft_multiplier = 1
}

# Logging
log_level = "INFO"

# Enable Consul Connect service mesh
connect {
  enabled = true
}

# Enable gRPC for Connect
ports {
  grpc = 8502
}

# Disable script checks for security
enable_script_checks = false
